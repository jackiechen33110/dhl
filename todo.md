# DHL 回邮单系统 - 功能清单

## 已完成的功能

### 基础架构
- [x] 项目初始化（Node.js + Express + EJS）
- [x] MySQL 数据库设计与初始化脚本
- [x] 数据库连接模块
- [x] Session 认证系统
- [x] 全局 CSS 样式

### 后端 API
- [x] 认证 API（登录、登出、获取用户）
- [x] 客户管理 API（CRUD）
- [x] 回邮单管理 API（创建、查询、批量导入、状态更新）
- [x] 国家规则 API
- [x] CN23 产品库 API（CRUD）
- [x] CN23 表单 API
- [x] 操作日志 API

### 前端页面
- [x] 登录页面
- [x] 仪表板页面
- [x] 页面部分模板（头部、页脚）
- [x] 404 错误页面
- [x] 500 错误页面
- [x] 客户管理页面
- [x] 回邮单导入页面（CSV 解析、数据预览、分批导入）
- [x] 回邮单列表页面（筛选、搜索、批量操作）
- [x] 回邮单详情页面（完整信息、CN23 报关、操作日志）
- [x] CN23 报关单编辑页面（产品清单、报关信息）
- [x] 统计汇总页面（图表、按客户分类、CSV 导出）

### 数据库
- [x] users 表（用户）
- [x] customers 表（客户）
- [x] country_rules 表（国家规则）
- [x] cn23_product_library 表（CN23 产品库）
- [x] shipments 表（回邮单）
- [x] shipment_items 表（回邮单明细）
- [x] cn23_forms 表（CN23 表单）
- [x] operation_logs 表（操作日志）

## 待实现的功能

### 新增功能（优先级高）
- [x] 轨迹追踪页面 - 自动追踪出的面单，显示物流轨迹
- [x] 结算页面 - 3个月无轨迹自动进入退款流程，5月1号生成退款单
- [x] 报价页面 - 固定报价，支持复制和定制报价给指定客户

### 前端页面
- [ ] 回邮单手工录入页面
- [ ] 国家规则管理页面（管理员）
- [ ] 操作日志查看页面
- [ ] 用户管理页面（管理员）
- [ ] 产品库管理页面

### 功能模块
- [ ] CSV/Excel 文件上传与解析
- [ ] 数据校验与错误提示
- [ ] 批量选择与操作
- [ ] PDF 标签批量导出
- [ ] 搜索与筛选功能
- [ ] 分页与排序
- [ ] 权限控制完善
- [ ] 操作日志自动记录

### 高级功能
- [ ] DHL API 集成
- [ ] 自动标签生成
- [ ] 批量 PDF 导出
- [ ] 数据备份与恢复
- [ ] 系统日志分析

### 测试与优化
- [ ] 单元测试
- [ ] 集成测试
- [ ] 性能优化
- [ ] 安全审计
- [ ] 用户文档

## 部署清单
- [ ] 环境配置（生产环境）
- [ ] 数据库备份策略
- [ ] 日志管理
- [ ] 监控告警
- [ ] 用户培训
